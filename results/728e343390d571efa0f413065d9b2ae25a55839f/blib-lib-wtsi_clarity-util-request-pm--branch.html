<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.17
Devel::Cover is copyright 2001-2012, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>Branch Coverage: blib/lib/wtsi_clarity/util/request.pm</title>
</head>
<body>
<h1>Branch Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">blib/lib/wtsi_clarity/util/request.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c0">47.6%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>%</th><th colspan="2">coverage</th><th>branch</th></tr>
<tr><td class="h"><a id="L177">177</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless ($self-&gt;config-&gt;clarity_api-&gt;{&#39;base_uri&#39;})</td></tr>
<tr><td class="h"><a id="L184">184</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless ($self-&gt;ss_request)</td></tr>
<tr><td class="h"><a id="L188">188</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($host_port =~ /http:/msx)</td></tr>
<tr><td class="h"><a id="L256">256</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless ($type and $type =~ /GET|POST|PUT|DELETE/msx)</td></tr>
<tr><td class="h"><a id="L257">257</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">!defined($type) ? :</td></tr>
<tr><td class="h"><a id="L261">261</a></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">$ENV{$self-&gt;cache_dir_var_name} ? :</td></tr>
<tr><td class="h"><a id="L264">264</a></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">if ($cache)</td></tr>
<tr><td class="h"><a id="L267">267</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless ($path)</td></tr>
<tr><td class="h"><a id="L272">272</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">$cache &amp;&amp; !$ENV{$self-&gt;save2cache_dir_var_name} ? :</td></tr>
<tr><td class="h"><a id="L276">276</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless ($response)</td></tr>
<tr><td class="h"><a id="L280">280</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">if ($ENV{$self-&gt;save2cache_dir_var_name})</td></tr>
<tr><td class="h"><a id="L295">295</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless my $sftp = &#39;Net::SFTP::Foreign&#39;-&gt;new($server, &#39;user&#39;, $self-&gt;ftpuser, &#39;password&#39;, $self-&gt;ftppassword)</td></tr>
<tr><td class="h"><a id="L300">300</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $sftp-&gt;put($oldfilename, &quot;/$remote_directory/$newfilename&quot;)</td></tr>
<tr><td class="h"><a id="L315">315</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless my $sftp = &#39;Net::SFTP::Foreign&#39;-&gt;new($server, &#39;user&#39;, $self-&gt;ftpuser, &#39;password&#39;, $self-&gt;ftppassword)</td></tr>
<tr><td class="h"><a id="L320">320</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless $sftp-&gt;get($remote_path, $local_path)</td></tr>
<tr><td class="h"><a id="L338">338</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">if ($url =~ /$base_uri/msx) { }</td></tr>
<tr><td class="h"><a id="L351">351</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">if (scalar @components &gt;= 2 and $components[-2] eq &#39;batch&#39; and $components[-1] eq &#39;retrieve&#39;)</td></tr>
<tr><td class="h"><a id="L357">357</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">if ($content)</td></tr>
<tr><td class="h"><a id="L365">365</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">if (scalar @components &gt; 2)</td></tr>
<tr><td class="h"><a id="L371">371</a></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">if ($path) { }</td></tr>
<tr><td class="h"><a id="L374">374</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">unless ($content)</td></tr>
<tr><td class="h"><a id="L390">390</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless (-e $cache)</td></tr>
<tr><td class="h"><a id="L393">393</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless (-d $cache)</td></tr>
<tr><td class="h"><a id="L396">396</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">if ($ENV{$self-&gt;save2cache_dir_var_name}) { }</td></tr>
<tr><td class="h"><a id="L397">397</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless (-w $cache)</td></tr>
<tr><td class="h"><a id="L401">401</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless (-r $cache)</td></tr>
<tr><td class="h"><a id="L411">411</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless (-e $path)</td></tr>
<tr><td class="h"><a id="L416">416</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless open my $fh, &#39;&lt;&#39;, $path</td></tr>
<tr><td class="h"><a id="L417">417</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless (defined $fh)</td></tr>
<tr><td class="h"><a id="L418">418</a></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">defined $fh ? :</td></tr>
<tr><td class="h"><a id="L419">419</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless close $fh</td></tr>
<tr><td class="h"><a id="L426">426</a></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">if ($path and $ENV{$self-&gt;save2cache_dir_var_name} and $ENV{$self-&gt;cache_dir_var_name})</td></tr>
<tr><td class="h"><a id="L433">433</a></td><td class="c0">50</td><td class="c3">T</td><td class="c0">F</td><td class="s">if ($result)</td></tr>
<tr><td class="h"><a id="L444">444</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($self-&gt;additional_headers)</td></tr>
<tr><td class="h"><a id="L452">452</a></td><td class="c0">0</td><td class="c0">T</td><td class="c0">F</td><td class="s">if ($self-&gt;ss_request and not defined $res-&gt;decoded_content &amp;&amp; ($res-&gt;is_success || $res-&gt;is_redirect) or not $self-&gt;ss_request || $res-&gt;is_success)</td></tr>
<tr><td class="h"><a id="L468">468</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">unless (eval {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $xml_msg = &#39;XML::LibXML&#39;-&gt;new-&gt;load_xml(&#39;string&#39;, $decoded_content);
$error_msg = $xml_msg-&gt;findnodes($EXCEPTION_MESSAGE_PATH)-&gt;pop-&gt;textContent;
1
}
})</td></tr>
<tr><td class="h"><a id="L479">479</a></td><td class="c3">100</td><td class="c3">T</td><td class="c3">F</td><td class="s">if (-e $dir) { }</td></tr>
<tr><td class="h"><a id="L480">480</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless (-d $dir)</td></tr>
<tr><td class="h"><a id="L487">487</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless open my $fh, &#39;&gt;:encoding(UTF-8)&#39;, $path</td></tr>
<tr><td class="h"><a id="L488">488</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless $fh</td></tr>
<tr><td class="h"><a id="L489">489</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless print {$fh;} $content</td></tr>
<tr><td class="h"><a id="L490">490</a></td><td class="c0">50</td><td class="c0">T</td><td class="c3">F</td><td class="s">unless close $fh</td></tr>
</table>
</body>
</html>
